<!DOCTYPE html>
<html lang="en-GB">
<meta charset="utf-8">
<!--mobile 1st responsive style-->
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="./fromhooks.css">
<meta name="description" content="React from Hooks">
<meta name="keywords" content="Sate hooks,React.js,JavaScript">
<meta name="author" content="martin.mphil@gmail.com">
<title>State</title>
<body>

<header>
  <a href="index.html">
    <img src="./assets/react_from_hooks_logo.svg" alt="react from hooks logo">
  </a>

  <script>
    (function() {
      var cx = '015544895799920346562:cucbbfyxmr4';
      var gcse = document.createElement('script');
      gcse.type = 'text/javascript';
      gcse.async = true;
      gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(gcse, s);
    })();
  </script>
  <gcse:search></gcse:search>

</header>

<div class="flex_wrapper">

  <main>
    <h1>State hook</h1>
    <p>
      Named after
      <a href="https://en.wikipedia.org/wiki/State_(computer_science)">state</a>
      in computer science, state can record changes in a component
      such as counting button clicks or user input.
    </p>
    <p>
      First import useState from React with the following line of code:
    </p>
    <code>
      import React, { useState } from 'react'
    </code>
    <p>
      "useState" accepts the initial state value as an argument.
    </p>
    <p>
      Eg "0" or "Bilbo" in the two separate lines of code below:
    </p>
    <code>
      const [count, setCount] = useState(0) <br>
      <br>
      const [name, setName] = useState('Bilbo') <br>
    </code>
    <h2>Function return</h2>
    <p>
      The state hook function returns a pair of values in an array like [x,y].
      Hence programs assign hook functions to pairs of variables in an array.
    </p>
    <p>
      A component may call state hooks many times to store multiple data objects.
    </p>
    <h2>Reading state</h2>
    <p>
      JSX code can simply reference state information by name inside curly brackets,
      eg "{count}" in the example below.
    </p>

    <code>
      function MyComponent() { <br>
      <br>
      &nbsp;&nbsp; const [count, setCount] = useState(0) <br>
      <br>
      &nbsp;&nbsp; return ( <br>
      &nbsp;&nbsp;&nbsp;&nbsp; &lt;div&gt; <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;p&gt;You clicked {count} times&lt;/p&gt; <br>
      &nbsp;&nbsp;&nbsp;&nbsp; &lt;/div&gt; <br>
      &nbsp;&nbsp; ) <br>
      }
    </code>
    <h2>Setting state</h2>
    <p>
      When a state value changes, React will re-render that component.
    </p>
    <p>
      Setting a state to a new value involves calling the setter function assigned with useState
      and providing the new state value as an argument.
    </p>
    <p>Eg</p>
    <code>
      &lt;button onClick={() => setCount(count + 1)}&gt; <br>
      &nbsp;&nbsp; Please click <br>
      &lt;/button&gt;
    </code>
    <p>
      Or
    </p>
    <code>
      const [name, setName] = useState('Bilbo') <br>
      <br>
      function handleNameChange(e) { <br>
      &nbsp;&nbsp; setName(e.target.value) <br>
      } <br>
      <br>
      return ( <br>
      &nbsp;&nbsp; &lt;input <br>
      &nbsp;&nbsp;&nbsp;&nbsp; value={name} <br>
      &nbsp;&nbsp;&nbsp;&nbsp; onChange={handleNameChange} <br>
      &nbsp;&nbsp;/&gt; <br>
      ) <br>
    </code>
    <h2>Controlling user input</h2>
    <p>
      Controlled components can
      <a
        href="https://reactjs.org/docs/introducing-jsx.html#jsx-prevents-injection-attacks"
        target="_blank"
      >
        escape
      </a>
      user input into plain strings and supply state setters with new values
      eg with an onChange attribute function call (see below).
    </p>
    <pre>
      <code>
const [name, setName] = useState('')

const handleChange = e => {
 setName(e.target.value)
}

return (
 &lt;form&gt;
  &lt;input
   value={name}
   type="text"
   onChange={handleChange}
  /&gt;
 &lt;/form&gt;
)
      </code>
    </pre>
    <p>
      Arrow functions can set the state with values taken from event (e).
    </p>
    <p>
      See setName in the onChange attribute below.
    </p>
    <pre>
      <code>
const [name, setName] = useState('')
return (
 &lt;form&gt;
  &lt;input
   value={name}
   type="text"
   onChange={
    e => setName(e.target.value)
   }
  /&gt;
 &lt;/form&gt;
)
      </code>
    </pre>
    <h2>Single file example</h2>
    <p>
      Rather than importing useState, employing 
      "<strong>React</strong>.useState" can create a
      <a href="./func_basic_example.html" target="_blank">single file example</a>.
      (Please see source code after clicking link.)
    </p>
    <p class="jump_adjacent">
      <a href="./function_component.html">prev</a>
      <a href="./effect_hook.html">next</a>
    </p>
  </main>

  <aside>
    <pre class="prettyprint lang-js">
      <code>
  // Code example

  import React, { useState } from 'react'

  function MyComponent() {

    const [count, setCount] = useState(0)

    return (
      &lt;div&gt;
        //... component html ...
      &lt;/div&gt;
    )
  }
      </code>
    </pre>
  </aside>

  <nav>
    <ul>
      <li><a href="./index.html">Home page</a></li>
      <li><a href="./intro_to_hooks.html">Intro</a></li>
      <li><a href="./react_basics.html">React basics</a></li>
      <li><a href="./props.html">Props</a></li>
      <li><a href="./function_component.html">Function component</a></li>
      <li>State hook</li>
      <li><a href="./effect_hook.html">Effect hook</a></li>
      <li><a href="./custom_hook.html">Custom hook</a></li>
      <li><a href="./sources.html">Sources</a></li>
    </ul>
  </nav>

</div> <!-- close flex_wrapper -->

<footer>
  <p><a href="./index.html">React from Hooks</a></p>
  <p class="date">2019</p>
  <p class="moot">Information may become moot</p>
</footer>

<!-- github.com/google/code-prettify -->
<script
  src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js?skin=desert"
></script>
</body>
</html>
